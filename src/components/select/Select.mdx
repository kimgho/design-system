import { Meta, Canvas, Controls, Story, Description, ArgTypes, Source } from '@storybook/addon-docs/blocks';
import * as SelectStories from './Select.stories';

<Meta of={SelectStories} />

# Select

사용자가 옵션 목록에서 하나의 값을 선택할 수 있게 해주는 컴포넌트입니다.
Custom Select로 구현되어 스타일링과 기능 확장이 자유롭습니다.

<Canvas of={SelectStories.Default} />

## Props

<Controls />

## Examples

### Sizes

`Select` 컴포넌트는 3가지 크기(`sm`, `md`, `lg`)를 지원합니다.

<Canvas of={SelectStories.Sizes} />

<Source
  language="tsx"
  code={`
<Select.Root size="sm" placeholder="Small">
  <Select.Label>Small</Select.Label>
  <Select.Control>
    <Select.Trigger>
      <Select.Value />
    </Select.Trigger>
    <Select.Icon />
    <Select.Content>
      <Select.Option value="1">Option 1</Select.Option>
    </Select.Content>
  </Select.Control>
</Select.Root>
  `}
/>

<br />

### States

필수 입력(`required`), 에러(`invalid`), 비활성화(`disabled`) 상태를 지원합니다.

<Canvas of={SelectStories.States} />

<Source
  language="tsx"
  code={`
{/* 기본 */}
<Select.Root placeholder="선택하세요">
  <Select.Label>Label</Select.Label>
  <Select.Control>
    <Select.Trigger>
      <Select.Value />
    </Select.Trigger>
    <Select.Icon />
    <Select.Content>
      <Select.Option value="1">Option</Select.Option>
    </Select.Content>
  </Select.Control>
</Select.Root>

{/* 필수 */}

<Select.Root required placeholder="선택하세요">
  <Select.Label>Label</Select.Label>
  <Select.Control>
    <Select.Trigger>
      <Select.Value />
    </Select.Trigger>
    <Select.Icon />
    <Select.Content>
      <Select.Option value="1">Option</Select.Option>
    </Select.Content>
  </Select.Control>
</Select.Root>

{/* 에러 */}

<Select.Root invalid placeholder="선택하세요">
  <Select.Label>Label</Select.Label>
  <Select.Control>
    <Select.Trigger>
      <Select.Value />
    </Select.Trigger>
    <Select.Icon />
    <Select.Content>
      <Select.Option value="1">Option</Select.Option>
    </Select.Content>
  </Select.Control>
  <Select.ErrorText>에러 메시지입니다</Select.ErrorText>
</Select.Root>

{/* 비활성화 */}

<Select.Root disabled placeholder="선택하세요">
  <Select.Label>Label</Select.Label>
  <Select.Control>
    <Select.Trigger>
      <Select.Value />
    </Select.Trigger>
    <Select.Icon />
    <Select.Content>
      <Select.Option value="1">Option</Select.Option>
    </Select.Content>
  </Select.Control>
</Select.Root>
`} />

## 사용 가이드 (Usage)

Compound Component 패턴으로 각 부분을 자유롭게 조합할 수 있습니다.

```tsx
<Select.Root placeholder="과일을 선택해주세요" onValueChange={setValue}>
  <Select.Label>과일 선택</Select.Label>
  <Select.Control>
    <Select.Trigger>
      <Select.Value />
    </Select.Trigger>
    <Select.Icon />
    <Select.Content>
      <Select.Option value="apple">사과</Select.Option>
      <Select.Option value="banana">바나나</Select.Option>
      <Select.Option value="orange">오렌지</Select.Option>
    </Select.Content>
  </Select.Control>
  <Select.Description>좋아하는 과일을 선택하세요</Select.Description>
</Select.Root>
```

### Controlled 사용

`value`와 `onValueChange`를 사용하여 상태를 직접 관리할 수 있습니다.

```tsx
const [value, setValue] = useState('');

<Select.Root value={value} onValueChange={setValue} placeholder="선택하세요">
  <Select.Label>카테고리</Select.Label>
  <Select.Control>
    <Select.Trigger>
      <Select.Value />
    </Select.Trigger>
    <Select.Icon />
    <Select.Content>
      <Select.Option value="1">카테고리 1</Select.Option>
      <Select.Option value="2">카테고리 2</Select.Option>
    </Select.Content>
  </Select.Control>
</Select.Root>;
```

### 에러 처리

`invalid` prop과 `ErrorText`를 함께 사용하면 에러 스타일이 적용됩니다.

```tsx
const [error, setError] = useState('');

<Select.Root
  invalid={!!error}
  onValueChange={value => {
    if (!value) {
      setError('카테고리를 선택해주세요');
    } else {
      setError('');
    }
  }}
  placeholder="선택하세요"
>
  <Select.Label>카테고리</Select.Label>
  <Select.Control>
    <Select.Trigger>
      <Select.Value />
    </Select.Trigger>
    <Select.Icon />
    <Select.Content>
      <Select.Option value="1">카테고리 1</Select.Option>
    </Select.Content>
  </Select.Control>
  <Select.ErrorText>{error}</Select.ErrorText>
</Select.Root>;
```
