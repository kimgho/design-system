import { Meta, Canvas, Controls, Story, Description, ArgTypes, Source } from '@storybook/addon-docs/blocks';
import * as InputStories from './Input.stories';

<Meta of={InputStories} />

# Input

사용자로부터 텍스트 입력을 받는 폼 컴포넌트입니다.
Compound Component 패턴으로 라벨, 설명, 에러 메시지를 유연하게 구성할 수 있습니다.

<Canvas of={InputStories.Default} />

## Props

<Controls />

## Examples

### Status

`Input` 컴포넌트는 기본, 필수(`required`), 에러(`invalid`), 비활성화(`disabled`) 상태를 지원합니다.

<Canvas of={InputStories.Status} />

<Source
  language="tsx"
  code={`
{/* 기본 */}
<Input.Root>
  <Input.Label>Label</Input.Label>
  <Input.Field placeholder="Placeholder" />
  <Input.Description>설명</Input.Description>
</Input.Root>

{/* 필수 */}

<Input.Root required>
  <Input.Label>Label</Input.Label>
  <Input.Field placeholder="Placeholder" />
  <Input.Description>필수 필드</Input.Description>
</Input.Root>

{/* 에러 */}

<Input.Root invalid>
  <Input.Label>Label</Input.Label>
  <Input.Field placeholder="Placeholder" />
  <Input.ErrorText>에러 메시지입니다</Input.ErrorText>
</Input.Root>

{/* 비활성화 */}

<Input.Root disabled>
  <Input.Label>Label</Input.Label>
  <Input.Field placeholder="Placeholder" />
  <Input.Description>비활성화</Input.Description>
</Input.Root>
`} />

<br />

### Sizes

`Input` 컴포넌트는 3가지 크기(`sm`, `md`, `lg`)를 지원합니다.

<Canvas of={InputStories.Sizes} />

<Source
  language="tsx"
  code={`
<Input.Root size="sm">
  <Input.Label>Small</Input.Label>
  <Input.Field placeholder="Small input" />
</Input.Root>

<Input.Root size="md">
  <Input.Label>Medium</Input.Label>
  <Input.Field placeholder="Medium input" />
</Input.Root>

<Input.Root size="lg">
  <Input.Label>Large</Input.Label>
  <Input.Field placeholder="Large input" />
</Input.Root>
`} />

## 사용 가이드 (Usage)

Compound Component 패턴으로 각 부분을 자유롭게 조합할 수 있습니다.

```tsx
<Input.Root required>
  <Input.Label>이메일</Input.Label>
  <Input.Field placeholder="example@email.com" />
  <Input.Description>회사 이메일을 입력해주세요</Input.Description>
</Input.Root>
```

### 에러 처리

`invalid` prop과 `ErrorText`를 함께 사용하면 에러 스타일이 적용됩니다.

```tsx
const [error, setError] = useState('');

<Input.Root invalid={!!error}>
  <Input.Label>비밀번호</Input.Label>
  <Input.Field
    type="password"
    onChange={e => {
      if (e.target.value.length < 8) {
        setError('비밀번호는 8자 이상이어야 합니다');
      } else {
        setError('');
      }
    }}
  />
  <Input.ErrorText>{error}</Input.ErrorText>
</Input.Root>;
```
